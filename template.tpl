___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Click IDs Manager",
  "categories": [
    "ATTRIBUTION"
  ],
  "brand": {
    "id": "brand_dummy",
    "displayName": "Jonah Onyejekwe",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "This template captures and manages ad click IDs (e.g., gclid, fbclid, li_fat_id), supporting first/last click and advanced offline conversion tracking.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "dropCookieStorageType",
    "displayName": "Cookie Storage Type",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "ddSeparateCookie",
        "displayValue": "Use Separate Cookie Name"
      },
      {
        "value": "ddSingleCookie",
        "displayValue": "Use Single Cookie Name"
      }
    ],
    "simpleValueType": true
  },
  {
    "type": "CHECKBOX",
    "name": "ddUseCustomPrefixName",
    "checkboxText": "Use a custom prefix for each cookie name",
    "simpleValueType": true,
    "help": "Enable this to apply a custom prefix to each cookie name when using separate cookies for traffic data. Without enabling this each cookie name have the \"gtm_dd_sep_\" prefix",
    "enablingConditions": [
      {
        "paramName": "dropCookieStorageType",
        "paramValue": "ddSeparateCookie",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "ddCustomCookiePrefixNameCookie",
    "displayName": "Custom Cookie Prefix Name",
    "simpleValueType": true,
    "help": "Enter the prefix to use for cookie names when creating separate cookies for selected traffic data points.",
    "enablingConditions": [
      {
        "paramName": "ddUseCustomPrefixName",
        "paramValue": true,
        "type": "EQUALS"
      }
    ],
    "valueHint": "e.g, custom_"
  },
  {
    "type": "LABEL",
    "name": "ddCookieSizeMuchWarning",
    "displayName": "🚩Using a single cookie can significantly increase its size, which may lead to issues. 🚨",
    "enablingConditions": [
      {
        "paramName": "dropCookieStorageType",
        "paramValue": "ddSingleCookie",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "ddCookieName",
    "displayName": "Cookie Name",
    "simpleValueType": true,
    "help": "Specify the name of the cookie to be set or created in the user\u0027s browser.",
    "valueHint": "e.g., gtm_cookie_name",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "dropCookieStorageType",
        "paramValue": "ddSingleCookie",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ddFirstClickIdentifiersGroup",
    "displayName": "Configure The Support For First Click Storage",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "LABEL",
        "name": "ddFirstClickIdentifierStorageText",
        "displayName": "💡 This setting is optional, as there is currently no defined use case or value for storing first-click identifiers. However, if needed, you can configure it here.\u003cbr\u003e\u003cbr\u003e"
      },
      {
        "type": "CHECKBOX",
        "name": "ddFirstClickIdentifiersSettings",
        "checkboxText": "Enable First Click Storage For Click Identifiers",
        "simpleValueType": true
      },
      {
        "type": "SELECT",
        "name": "ddFirstClickIdentifiersStorageType",
        "displayName": "First Click Cookie Storage Type",
        "macrosInSelect": false,
        "selectItems": [
          {
            "value": "ddFirstClickSeparateCookie",
            "displayValue": "Use Separate Cookie Name"
          },
          {
            "value": "ddFirstClickSingleCookie",
            "displayValue": "Use Single Cookie Name"
          }
        ],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "ddFirstClickIdentifiersSettings",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "CHECKBOX",
        "name": "ddUseFirstClickCustomPrefixName",
        "checkboxText": "Use a custom prefix for each first click identifiers cookie name.",
        "simpleValueType": true,
        "help": "Enable this to apply a custom prefix to each cookie name when using separate cookies for traffic data. Without enabling this each cookie name have the \"first_click_gtm_dd_sep_\" prefix",
        "enablingConditions": [
          {
            "paramName": "ddFirstClickIdentifiersStorageType",
            "paramValue": "ddFirstClickSeparateCookie",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "ddCustomFirstClickIdCookiePrefixNameCookie",
        "displayName": "Custom Cookie Prefix Name",
        "simpleValueType": true,
        "help": "Enter the prefix to use for first click identifiers cookie names when creating separate cookies for selected traffic data points.",
        "enablingConditions": [
          {
            "paramName": "ddUseFirstClickCustomPrefixName",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueHint": "e.g, first_click_id_",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "LABEL",
        "name": "ddFirstClickIdsCookieSizeMuchWarning",
        "displayName": "🚩Using a single cookie can significantly increase its size, which may lead to issues. 🚨",
        "enablingConditions": [
          {
            "paramName": "ddFirstClickIdentifiersStorageType",
            "paramValue": "ddFirstClickSingleCookie",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "ddFirstClickIdsCookieName",
        "displayName": "First Click ID Cookie Name",
        "simpleValueType": true,
        "help": "Specify the name of the cookie to be set or created in the user\u0027s browser.",
        "valueHint": "e.g., gtm_cookie_name",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "enablingConditions": [
          {
            "paramName": "ddFirstClickIdentifiersStorageType",
            "paramValue": "ddFirstClickSingleCookie",
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "TEXT",
        "name": "ddFirstClickCookieStorageDaysLifeSpan",
        "displayName": "First-Click Cookie Storage Duration (in Days)",
        "simpleValueType": true,
        "help": "This is where you specify the number of days the first-click identifier should be stored. The minimum value is 1 day. Please note that browser cookie restrictions may affect this duration.",
        "valueHint": "e.g, 1",
        "enablingConditions": [
          {
            "paramName": "ddFirstClickIdentifiersSettings",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ddTrafficAdsClickIdentifiers",
    "displayName": "Traffic Click Identifiers",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdGclid",
        "checkboxText": "Gclid",
        "simpleValueType": true,
        "help": "Google Ads Click Identifier (gclid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdDclid",
        "checkboxText": "Dclid",
        "simpleValueType": true,
        "help": "DoubleClick Click Identifier (dclid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdFbclid",
        "checkboxText": "Fbclid",
        "simpleValueType": true,
        "help": "Meta (formerly Facebook) Click Identifier (fbclid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdLi_fat_id",
        "checkboxText": "Li_fat_id",
        "simpleValueType": true,
        "help": "LinkedIn Ads Click Identifier (li_fat_id)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdMsclkid",
        "checkboxText": "msclkid",
        "simpleValueType": true,
        "help": "Microsoft Ads Click Identifier (msclkid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdTtclid",
        "checkboxText": "Ttclid",
        "simpleValueType": true,
        "help": "TikTok Ads Click Identifier (ttclid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdTwclid",
        "checkboxText": "Twclid",
        "simpleValueType": true,
        "help": "Twitter Ads Click Identifier (twclid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdYclid",
        "checkboxText": "Yclid",
        "simpleValueType": true,
        "help": "Yahoo Click Identifier (yclid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdGclsrc",
        "checkboxText": "Gclsrc",
        "simpleValueType": true,
        "help": "Google Ads gclsrc Click Identifier."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdGbraid",
        "checkboxText": "Gbraid",
        "simpleValueType": true,
        "help": "Google Ads gbraid Click Identifier."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdWbraid",
        "checkboxText": "Wbraid",
        "simpleValueType": true,
        "help": "Google Ads wbraid Click Identifier."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdObclid",
        "checkboxText": "Obclid",
        "simpleValueType": true,
        "help": "Outbrain Ads Click Identifier (obclid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddAdClickIdScCid",
        "checkboxText": "ScCid",
        "simpleValueType": true,
        "help": "Snapchat Ads Click Identifier (scCid)."
      },
      {
        "type": "CHECKBOX",
        "name": "ddCustomClickIdentifiersOption",
        "checkboxText": "Enable support for custom click identifiers?",
        "simpleValueType": true,
        "help": "If the desired click identifiers aren\u0027t readily available, you can enable this feature to configure custom click identifiers. This allows you to set up the specific identifiers you need."
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "ddCustomIdentifiersConfig",
        "displayName": "Configure Custom Click Identifiers (Traffic Source and Medium Optional)",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Click Identifier URL Query",
            "name": "ddCustomClickIdentifierURLKey",
            "type": "TEXT",
            "valueHint": "awc"
          }
        ],
        "help": "You can add new click identifiers and specify their corresponding source and medium. If a click identifier doesn\u0027t have a specific source or medium, simply leave those fields blank and enter only the click identifier.",
        "enablingConditions": [
          {
            "paramName": "ddCustomClickIdentifiersOption",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "newRowButtonText": "Add New Click Identifier"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "ddCookieDuration",
    "displayName": "Cookie Duration",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "secondsDuration",
        "displayValue": "Seconds"
      },
      {
        "value": "minutesDuration",
        "displayValue": "Minutes"
      },
      {
        "value": "hourDuration",
        "displayValue": "Hours"
      },
      {
        "value": "dayDuration",
        "displayValue": "Days"
      }
    ],
    "simpleValueType": true,
    "help": "Select the time unit to define the cookie\u0027s duration.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "ddCookieLifeSpan",
    "displayName": "Cookie Lifespan",
    "simpleValueType": true,
    "help": "Enter how long the cookie should persist, using the selected time unit.",
    "valueHint": "e.g., 30",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "POSITIVE_NUMBER"
      }
    ]
  },
  {
    "type": "CHECKBOX",
    "name": "ddUpdateLifeSpanUponEachExecution",
    "checkboxText": "Refresh the cookie\u0027s lifespan with each tag execution",
    "simpleValueType": true,
    "help": "Enable this to reset the cookie\u0027s expiration each time the tag is triggered."
  },
  {
    "type": "CHECKBOX",
    "name": "ddPushToLocalStorage",
    "checkboxText": "Also store traffic data in LocalStorage",
    "simpleValueType": true,
    "help": "Enable this if you\u0027d like to save traffic data in the browser\u0027s LocalStorage as well."
  },
  {
    "type": "CHECKBOX",
    "name": "ddDontPushToDataLayer",
    "checkboxText": "Do not push traffic data to the dataLayer",
    "simpleValueType": true,
    "help": "Enable this only if you do not want to push traffic information into the dataLayer."
  },
  {
    "type": "CHECKBOX",
    "name": "ddPushToDataLayerCustom",
    "checkboxText": "Use a custom event name for dataLayer push",
    "simpleValueType": true,
    "help": "Enable this to specify a custom event name for the dataLayer push when the tag fires.",
    "enablingConditions": [
      {
        "paramName": "ddDontPushToDataLayer",
        "paramValue": true,
        "type": "NOT_EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "customDataLayerEventName",
    "displayName": "Custom Data Layer Event Name",
    "simpleValueType": true,
    "valueHint": "e.g., custom_event_name",
    "enablingConditions": [
      {
        "paramName": "ddPushToDataLayerCustom",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "ddOptionalAdvanceConfig",
    "displayName": "Advanced Configuration (Optional)",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "setCookieDomain",
        "checkboxText": "Set a custom domain",
        "simpleValueType": true
      },
      {
        "type": "CHECKBOX",
        "name": "setCookiePath",
        "checkboxText": "Set a custom cookie path",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "inputCookieDomain",
        "displayName": "Cookie Domain",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "setCookieDomain",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueHint": "e.g., example.com",
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "help": "Optional: Specify a custom domain for the cookie."
      },
      {
        "type": "TEXT",
        "name": "inputCookiePath",
        "displayName": "Cookie Path",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "setCookiePath",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ],
        "valueHint": "e.g., /",
        "help": "Optional: Specify a custom path for the cookie."
      }
    ],
    "help": "Use these optional settings to customize the cookie\u0027s domain and path."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Created by DumbData (https://dumbdata.co/)

// Dependencies
const setCookie = require('setCookie');
const getCookieValues = require('getCookieValues');
const getQueryParameters = require('getQueryParameters');
const getType = require('getType');
const makeString = require('makeString');
const makeNumber = require('makeNumber');
const ObjectUtil = require('Object');
const JSON = require('JSON');
const localStorage = require('localStorage');
const copyFromWindow = require('copyFromWindow');

// Utility: Validate if a value is usable
function isValid(val) {
  const type = getType(val);
  const str = makeString(val);
  return (
    type !== 'undefined' &&
    type !== 'null' &&
    str !== '' &&
    str !== 'undefined' &&
    str !== 'null' &&
    str !== 'deleted'
  );
}

// Utility: Get lifespan in seconds based on selected unit
function getLifespanInSeconds(value, unit) {
  const n = makeNumber(value);
  if (unit === 'secondsDuration') return n;
  if (unit === 'minutesDuration') return n * 60;
  if (unit === 'hourDuration') return n * 3600;
  if (unit === 'dayDuration') return n * 86400;
  return 0;
}

// Utility: Retrieve click ID from the current page URL
function getClickParamValue(key) {
  const vals = getQueryParameters(key, true);
  return vals.length ? vals[vals.length - 1] : undefined;
}

// Utility: Construct object of enabled click identifiers (built-in + custom)
function getEnabledClickIdentifiers(data) {
  const clickIdMap = {
    gclid: 'ddAdClickIdGclid', dclid: 'ddAdClickIdDclid',
    fbclid: 'ddAdClickIdFbclid', li_fat_id: 'ddAdClickIdLi_fat_id',
    msclkid: 'ddAdClickIdMsclkid', ttclid: 'ddAdClickIdTtclid',
    twclid: 'ddAdClickIdTwclid', yclid: 'ddAdClickIdYclid',
    gclsrc: 'ddAdClickIdGclsrc', gbraid: 'ddAdClickIdGbraid',
    wbraid: 'ddAdClickIdWbraid', obclid: 'ddAdClickIdObclid',
    ScCid: 'ddAdClickIdScCid'
  };
  const enabled = {};
  const keys = ObjectUtil.keys(clickIdMap);
  for (let i = 0; i < keys.length; i++) {
    const id = keys[i];
    if (data[clickIdMap[id]]) enabled[id] = id;
  }

  if (data.ddCustomClickIdentifiersOption && data.ddCustomIdentifiersConfig) {
    const rows = data.ddCustomIdentifiersConfig;
    for (let i = 0; i < rows.length; i++) {
      const row = rows[i];
      const key = row.ddCustomClickIdentifierURLKey;
      if (isValid(key)) enabled[key] = key;
    }
  }

  return enabled;
}

// Get existing last-click value from cookie or localStorage
function getStoredLastClickValue(key, data, localStorageObj) {
  const prefix = data.ddUseCustomPrefixName ? data.ddCustomCookiePrefixNameCookie : 'gtm_dd_click_id_sep_';
  if (data.dropCookieStorageType === 'ddSeparateCookie') {
    const val = getCookieValues(prefix + key)[0];
    if (isValid(val)) return val;
  } else if (data.dropCookieStorageType === 'ddSingleCookie') {
    const val = getCookieValues(data.ddCookieName)[0];
    if (isValid(val)) {
      const parsed = JSON.parse(val);
      if (getType(parsed) === 'object' && isValid(parsed[key])) return parsed[key];
    }
  }

  // LocalStorage fallback (if enabled)
  if (data.ddPushToLocalStorage && isValid(localStorageObj)) {
    if (getType(localStorageObj.gtm_click_identifiers_collected) === 'object') {
      const v = localStorageObj.gtm_click_identifiers_collected[key];
      if (isValid(v)) return v;
    }
  }

  return undefined;
}

// Save click identifiers to localStorage
function saveToLocalStorage(key, dataObject) {
  localStorage.setItem(key, JSON.stringify(dataObject));
}

// Push collected data to dataLayer (if allowed)
function pushToDataLayer(data, values) {
  if (data.ddDontPushToDataLayer) return;

  const eventName = data.ddPushToDataLayerCustom ? data.customDataLayerEventName : 'gtm_dd_click_identifier_data';
  const dl = copyFromWindow('dataLayer');
  dl.push({
    event: eventName,
    gtm_click_identifiers_collected: values,
    data_point_source: 'dd gtm click ids manager custom tag template'
  });
}

// MAIN
(function () {
  const clickIdValues = {};
  const enabledIds = getEnabledClickIdentifiers(data);
  const keys = ObjectUtil.keys(enabledIds);

  const lifespan = getLifespanInSeconds(data.ddCookieLifeSpan, data.ddCookieDuration);
  const cookieOptions = {
    domain: data.setCookieDomain ? data.inputCookieDomain : undefined,
    path: data.setCookiePath ? data.inputCookiePath : '/',
    'max-age': lifespan
  };

  const refresh = data.ddUpdateLifeSpanUponEachExecution;
  const useSeparateCookies = data.dropCookieStorageType === 'ddSeparateCookie';
  const useSingleCookie = data.dropCookieStorageType === 'ddSingleCookie';
  const cookieName = data.ddCookieName;

  let existingLSRaw = data.ddPushToLocalStorage ? localStorage.getItem('gtm_dd_click_ids_traffic_data') : undefined;
  let parsedLS = {};
  if (isValid(existingLSRaw)) {
    parsedLS = JSON.parse(existingLSRaw);
  }

  // 1. Collect values
  for (let i = 0; i < keys.length; i++) {
    const key = keys[i];
    const val = getClickParamValue(key);

    if (isValid(val)) {
      clickIdValues[key] = makeString(val);
    } else {
      const fallback = getStoredLastClickValue(key, data, parsedLS);
      if (isValid(fallback)) {
        clickIdValues[key] = makeString(fallback);

        // Restore cookie if missing
        if (useSeparateCookies) {
          const prefix = data.ddUseCustomPrefixName ? data.ddCustomCookiePrefixNameCookie : 'gtm_dd_click_id_sep_';
          if (!getCookieValues(prefix + key)[0]) {
            setCookie(prefix + key, fallback, cookieOptions);
          }
        } else if (useSingleCookie) {
          const raw = getCookieValues(cookieName)[0];
          let merged = {};
          if (isValid(raw)) merged = JSON.parse(raw);
          merged[key] = fallback;
          setCookie(cookieName, JSON.stringify(merged), cookieOptions);
        }
      }
    }
  }

  // 2. Store to cookies
  if (useSeparateCookies) {
    const prefix = data.ddUseCustomPrefixName ? data.ddCustomCookiePrefixNameCookie : 'gtm_dd_click_id_sep_';
    for (let i = 0; i < keys.length; i++) {
      const key = keys[i];
      const value = clickIdValues[key];
      if (!isValid(value)) continue;
      const existing = getCookieValues(prefix + key)[0];
      if (refresh || !existing || makeString(existing) !== value) {
        setCookie(prefix + key, value, cookieOptions);
      }
    }
  } else if (useSingleCookie) {
    const raw = getCookieValues(cookieName)[0];
    let merged = {};
    if (isValid(raw)) merged = JSON.parse(raw);
    let changed = false;
    for (let i = 0; i < keys.length; i++) {
      const k = keys[i];
      const v = clickIdValues[k];
      if (!isValid(v)) continue;
      if (refresh || !merged[k] || makeString(merged[k]) !== v) {
        merged[k] = v;
        changed = true;
      }
    }
    if (changed) {
      setCookie(cookieName, JSON.stringify(merged), cookieOptions);
    }
  }

  // 3. Store to localStorage (last click)
  if (data.ddPushToLocalStorage) {
    let changed = false;
    if (!parsedLS.gtm_click_identifiers_collected) {
      parsedLS.gtm_click_identifiers_collected = {};
      changed = true;
    }
    for (let i = 0; i < keys.length; i++) {
      const k = keys[i];
      const v = clickIdValues[k];
      if (!isValid(v)) continue;
      if (!parsedLS.gtm_click_identifiers_collected[k] || makeString(parsedLS.gtm_click_identifiers_collected[k]) !== v) {
        parsedLS.gtm_click_identifiers_collected[k] = v;
        changed = true;
      }
    }

    if (changed) {
      parsedLS.data_point_source = 'dd gtm click ids manager custom tag template';
      saveToLocalStorage('gtm_dd_click_ids_traffic_data', parsedLS);
    }
  }

  // 4. Handle First Click Storage (optional)
  if (data.ddFirstClickIdentifiersSettings) {
    const firstClickType = data.ddFirstClickIdentifiersStorageType;
    const isFirstSeparate = firstClickType === 'ddFirstClickSeparateCookie';
    const firstPrefix = data.ddUseFirstClickCustomPrefixName ? data.ddCustomFirstClickIdCookiePrefixNameCookie : 'gtm_first_click_id_sep_';
    const firstCookieName = data.ddFirstClickIdsCookieName;
    const firstLSKey = 'gtm_dd_first_click_identifiers_data';
    const firstCookieLife = makeNumber(data.ddFirstClickCookieStorageDaysLifeSpan) * 86400;

    let firstRawLS = localStorage.getItem(firstLSKey);
    let parsedFirstLS = isValid(firstRawLS) ? JSON.parse(firstRawLS) : {};

    let writeFirstClick = false;
    for (let i = 0; i < keys.length; i++) {
      const key = keys[i];
      const value = clickIdValues[key];
      if (!isValid(value) || parsedFirstLS['first_click_' + key]) continue;

      parsedFirstLS['first_click_' + key] = makeString(value);
      writeFirstClick = true;

      if (isFirstSeparate) {
        if (!getCookieValues(firstPrefix + key)[0]) {
          setCookie(firstPrefix + key, value, {
            path: '/',
            'max-age': firstCookieLife
          });
        }
      } else {
        const raw = getCookieValues(firstCookieName)[0];
        let parsed = {};
        if (isValid(raw)) parsed = JSON.parse(raw);
        if (!parsed['first_click_' + key]) {
          parsed['first_click_' + key] = value;
          setCookie(firstCookieName, JSON.stringify(parsed), {
            path: '/',
            'max-age': firstCookieLife
          });
        }
      }
    }

    if (writeFirstClick) {
      saveToLocalStorage(firstLSKey, parsedFirstLS);
    }
  }

  // 5. Push to dataLayer
  pushToDataLayer(data, clickIdValues);

  data.gtmOnSuccess();
})();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_local_storage",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "gtm_dd_first_click_identifiers_data"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "gtm_dd_click_ids_traffic_data"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 10/2/2025, 11:45:01 AM


